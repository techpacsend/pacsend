<style>
  ::ng-deep share-buttons .sb-material-dark .sb-wrapper {
    background-color: white !important;
    border-radius: 50% !important;
    padding: 5px;
    font-size: 13px !important;
    width: 30px;
    height: 54px !important;
    transition: 0.3s;
    text-align: center;
    margin: 5px 2px;
    box-shadow: 0px 1px 6px 1px #cac7c7 !important;
  }

  ::ng-deep share-buttons .sb-material-dark .sb-wrapper:hover {
    background-color: red !important;
    border-radius: 50% !important;
    padding: 5px;
    font-size: 13px !important;
    width: 30px;
    height: 54px !important;
    transition: 0.3s;
    text-align: center;
    margin: 5px 2px;
    color: white !important;
    box-shadow: 0px 1px 6px 1px #cac7c7 !important;
  }

  ::ng-deep share-buttons .sb-wrapper .sb-inner .sb-content {
    color: red;
    border-radius: 50% !important;
  }

  ::ng-deep share-buttons .sb-wrapper .sb-inner .sb-content:hover {
    color: white;
    border-radius: 50% !important;
  }
</style>

<div class="bgcolor-1">
  <div class="container mt-70 get-max-width">
    <div class="row">
      <div *ngIf="!hideLCP" class="mt-3 col-12 d-flex justify-content-center  align-items-center">
          <ngx-shimmer-loading *ngIf="googleAdsImage != undefined" [shape]="'rect'" [width]="'1200px'" [height]="'130px'">
          </ngx-shimmer-loading>
      </div>
      <div *ngIf="hideLCP" class="mt-3 col-12 d-flex justify-content-center align-items-center">
        <img *ngIf="googleAdsImage != undefined" class="w-100" [src]="
            'https://pacsend.app/public/uploads/slots/' + googleAdsImage
              | byPassSecurityUrl
          " />
        <div *ngIf="googleAdsScript != undefined" [innerHTML]="googleAdsScript | byPassSecurityScript"></div>
      </div>
      <div class="col-md-8 m-t-b-10">
        <div class="card m-b-10 position-relative">
          <div class="card-body position-relative">
            <div class="row backgroundWhite">
              <div class="col-12 col-md-12 text-center">
                <div class="imgcontainer backgroundBlack border-rad-10">

                  <div id="carouselExampleControls" class="carousel slide" data-ride="carousel" data-interval="3000">
                    <div class="carousel-inner max-width-900 max-height-600">
                      <div class="max-width-900 max-height-600" *ngFor="let image of othterImage; let i = index"
                        [ngClass]="{ 'carousel-item': true, active: i === imageIndex }">
                        <img style="margin: auto !important; border-radius: 10px; padding: 1px"
                          class="d-block height-custom" src="{{ mrcURL }}/public/uploads/adds/{{
                            image.image
                          }}" alt="Second slide" />

                          <div *ngIf="othterImage.length > 1">
                            <a class="carousel-control-prev" #image (click)="previousSlide(i)" role="button" data-slide="prev">
                              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                              <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" (click)="nextSlide(i)"  role="button" data-slide="next">
                              <span class="carousel-control-next-icon" aria-hidden="true"></span>
                              <span class="sr-only">Next</span>
                            </a>
                          </div>

                      </div>
                    </div>
                    <div class="col-md-12 position-relative">
                      <div class="bottom-right d-flex">
                        <div (click)="toggleShareButton()" class="CardIcons mr-2">
                          <a><i class="fas fa-share-alt colorBlack"></i></a>
                        </div>

                        <div *ngIf="loginuser && ( adData?.creater.id != loginuserid && !alreadyReported)" (click)="GetaddRepot()" class="CardIcons mr-2">
                          <a><i class="fas fa-flag colorBlack"></i></a>
                        </div>
                        <div *ngIf="loginuser && adData?.creater.id != loginuserid && myStatus" class="CardIcons"
                          (click)="updateWishlist()">
                          <i class="fa fa-heart colorRed cursor-pointer"></i>
                        </div>

                        <div *ngIf="loginuser && adData?.creater.id != loginuserid && !myStatus" class="CardIcons"
                          (click)="updateWishlist()">
                          <i class="fa fa-heart text-dark cursor-pointer"></i>
                        </div>

                      </div>
                    </div>

                    <div *ngIf="hideShareButtons" class="share-area">
                      <div class="row">
                        <div class="col-12">
                          <p class="mt-2 mb-1 color-figma-gray">
                            Share on Social Media 1
                          </p>
                          <div class="sb-group">
                            <a target="_blank" href="https://www.facebook.com/sharer.php?u={{page_url}}">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                  <svg role="img" class="svg-inline--fa fa-facebook-f fa-w-9 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 264 512">
                                    <path fill="currentColor" d="M76.7 512V283H0v-91h76.7v-71.7C76.7 42.4 124.3 0 193.8 0c33.3 0 61.9 2.5 70.2 3.6V85h-48.2c-37.8 0-45.1 18-45.1 44.3V192H256l-11.7 91h-73.6v229"></path>
                                  </svg>
                              </div>
                            </a>
                            <a target="_blank" href="https://twitter.com/share?url={{page_url}}">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                <svg role="img" class="svg-inline--fa fa-twitter fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                  <path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path>
                                </svg>
                              </div>
                            </a>
                            <a target="_blank" href="https://www.linkedin.com/shareArticle?url={{page_url}}">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                <svg role="img" class="svg-inline--fa fa-linkedin-in fa-w-14 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                  <path fill="currentColor" d="M100.3 480H7.4V180.9h92.9V480zM53.8 140.1C24.1 140.1 0 115.5 0 85.8 0 56.1 24.1 32 53.8 32c29.7 0 53.8 24.1 53.8 53.8 0 29.7-24.1 54.3-53.8 54.3zM448 480h-92.7V334.4c0-34.7-.7-79.2-48.3-79.2-48.3 0-55.7 37.7-55.7 76.7V480h-92.8V180.9h89.1v40.8h1.3c12.4-23.5 42.7-48.3 87.9-48.3 94 0 111.3 61.9 111.3 142.3V480z"></path>
                                </svg>
                              </div>
                            </a>
                            <a target="_blank" href="https://wa.me/?text={{page_url}}">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                <svg role="img" class="svg-inline--fa fa-whatsapp fa-w-14 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
                                  <path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path>
                                </svg>
                              </div>
                            </a>
                            <a target="_blank" href="mailto:?subject=&amp;body={{page_url}}">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                <svg role="img" class="svg-inline--fa fa-envelope fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                  <path fill="currentColor" d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"></path>
                                </svg>
                              </div>
                            </a>
                            <a href="javascript:void(0);" (click)="copyMessage()">
                              <div style="margin-top:10px;font-size: 16px;" class="sb-icon ng-star-inserted">
                                <svg role="img" class="svg-inline--fa fa-link fa-w-16 fa-fw" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
                                  <path fill="currentColor" d="M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"></path>
                                </svg>
                              </div>
                            </a>
                          </div>
                          <!-- <share-buttons [theme]="'material-dark'" [include]="[
                              'facebook',
                              'twitter',
                              'linkedin',
                              'whatsapp',
                              'email',
                              'copy'
                            ]" [size]="1" (click)="check('open')">
                          </share-buttons> -->
                        </div>
                      </div>
                    </div>

                    <div *ngIf="hideReport" class="modal-content share-area1 z-index-99"
                      style="width: 300px !important; padding: 15px !important; margin-left: auto !important;">
                      <div class="modal-header">
                        <h4 class="modal-title w-100 font-21 font-500" id="modal-basic-title">
                          Add Report
                        </h4>
                      </div>

                      <div class="col-12 m-b-10" *ngFor="let report of reports; let i = index"
                        (click)="travelTypeSelect(report.id);" style="padding: 8px 0px; border-radius: 5px !important"
                        [ngStyle]="{
                        border: travelType[report.id] ? '2px solid #da2926' : '2px solid #E1E7EC'
                      }">
                        <div class="row">
                          <div class="col-12 text-center">
                            <a style="color: #202833 !important" class="mb-0 font-16 font-700 mob-font-txt-color">{{
                              report.title }}</a>
                          </div>
                        </div>
                      </div>


                      <div class="modal-footer pb-1" *ngIf="loginuser">
                        <button type="button"
                          class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10" (click)="
                          adReport(selectedId)">
                          SUBMIT
                        </button>
                      </div>

                    </div>
                    <div class="bottom-right-second1 text-center position-absolute w-183 top-16 bgcolor-6 p-6 left-0"
                      *ngIf="adData?.status_id == 0">
                      <span class="colorRed font-700 font-15">Pending for approval!</span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6 col-12 text-left">
                <h3 class="
                    color-figma-black
                    font-25 font-500
                    text-capitalise
                    mt-2
                  ">
                  {{ adData?.ad_title }}
                </h3>
              </div>
              <div class="col-md-6 col-12 text-right">
                <h5 class="line-height-30">
                  <span class="sender-inner-ad-title">Need it delivered within
                  </span>
                  <strong class="sender-inner-ad-desc">&nbsp;&nbsp; {{ adData?.date | formatdates }}
                  </strong>
                </h5>
              </div>
              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title">Type </h6>
              </div>

              <div class="col-8 col-md-10 text-left m-t-10">
                
                <span *ngFor="let item of travellingTypes; let i = index" class="sender-inner-ad-desc">{{ item.type_name}} ,{{ travellingTypes.length - 1 == i ? "" : abc }}
                </span>
              </div>

              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title line-height-30 font-14 font-600">
                  Weight
                </h6>
              </div>
              <div class="col-8 col-md-10 text-left m-t-10">
                <h6 class="sender-inner-ad-desc">
                  {{ (+adData?.weight).toFixed(0) }}&nbsp;KG
                </h6>
              </div>
              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title line-height-30 font-14 font-600" >
                  From Location
                </h6>
              </div>
              <div class="col-8 col-md-10 text-left m-t-10">
                <h6 class="sender-inner-ad-desc locations">
                  <!-- '_blank' -->
                  <a href="https://www.google.com/maps/search/?api=1&query={{adData?.pickup_location}}" target="_blank"> {{ adData?.pickup_location}}</a>
                </h6>
              </div>


              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title line-height-30 font-14 font-600">
                  To Location
                </h6>
              </div>
              <div class="col-8 col-md-10 text-left m-t-10">
                <h6 class="sender-inner-ad-desc locations">
                  <a href="https://www.google.com/maps/search/?api=1&query={{adData?.delivery_location}}" target="_blank">  {{ adData?.delivery_location}}</a>
                 
                </h6>
              </div>

              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title line-height-30 font-14 font-600">
                  Willing to pay
                </h6>
              </div>
              <div class="col-4 col-md-10 text-left m-t-10">
                <h6 class="sender-inner-ad-desc">{{ totalAmount }}&nbsp;AED</h6>
              </div>

              <div class="col-4 col-md-2 text-left m-t-10">
                <h6 class="sender-inner-ad-title line-height-30 font-14 font-600">
                  Size
                </h6>
              </div>

              <div class="col-4 col-md-10 text-left m-t-10">
                <h6 class="sender-inner-ad-desc">
                  <img class="max-width-25" src="{{ mrcURL }}/public/uploads/traveling/{{adData?.traveling_type_image}}" /> {{ adData?.traveling_type }}
                </h6>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-4 m-t-b-10">
        <div class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-8">
                <h6 class="sender-inner-ad-title-1">
                  <strong>{{ adData?.first_name}}
                    {{ adData?.last_name}}</strong>
                </h6>
                <div class="star-container" *ngIf="adData">
                  <ngx-stars color="#fdcc0d" [size]="1" [readonly]="true" [size]="4" [maxStars]="5"
                    [initialStars]='adData?.avgFeedBack'></ngx-stars>
                </div>

                <h6 class="sender-inner-ad-desc-1">
                  Active since
                  <strong class="sender-inner-ad-desc">{{adData?.date | formatdates}}</strong>
                </h6>

                <h6 class="sender-inner-ad-desc-1">
                  Packages Sent -
                  <strong class="sender-inner-ad-desc">{{
                    packagesSent
                    }}</strong>
                </h6>
                <h6 class="sender-inner-ad-desc-1">
                  Packages Carried -
                  <strong class="sender-inner-ad-desc">{{
                    packagesCarried
                    }}</strong>
                </h6>
              </div>
              <div class="col-4">
                
                <img [src]="adData?.creater?.custom_profile_photo? imageBaseUrl + adData?.creater?.custom_profile_photo: userimage? imageBaseUrl + userimage:'../../../../assets/default.jpg'" class="width-100 img-border-10" />
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div *ngIf="!hideLCP" class="col-12 mt-3">
            <ngx-shimmer-loading *ngIf="googleAdsImageSenderAdRight != undefined"  [shape]="'rect'" [width]="'400px'" [height]="'300px'">
            </ngx-shimmer-loading>
          </div>
          <div *ngIf="hideLCP" class="col-12 mt-3">
            <img *ngIf="googleAdsImageSenderAdRight != undefined" class="w-100" [src]="
                'https://pacsend.app/public/uploads/slots/' +
                  googleAdsImageSenderAdRight | byPassSecurityUrl
              " />
            <div *ngIf="googleAdsScript != undefined" [innerHTML]="googleAdsScript | byPassSecurityScript"></div>
          </div>
        </div>
        <div class="card" *ngIf="
            (adData?.is_offer == '1' && adData.offeror == loginuser.id) ||
            adData?.user_id == loginuser?.id
          ">
          <div class="card-body">
            <div class="row">
              <div class="col-8">
                <h6 class="color-figma-black font-15 font-500 line-height-30">
                  <strong>Point of Contact</strong>
                </h6>
                <a class="font-500 color-figma-gray"><i class="fa fa-user font-500 color-figma-gray"></i>
                  <span class="font-14 color-figma-gray font-500 ml-2">{{
                    pointofcontactname
                    }}</span></a><br />
                <a class="font-500 color-figma-gray"><i class="fas fa-mobile-alt font-500 color-figma-gray"></i>
                  <span class="font-14 font-500 color-figma-gray ml-2">{{
                    pointofcontactnumber
                    }}</span></a>
              </div>
            </div>
          </div>
        </div>


        <div *ngIf="showCancelCard" class="card">
          <div class="card-body">
            <div class="row">
              <div class="col-12">
                <h6 class="color-figma-black font-15 font-500 line-height-30">
                  <strong>Cancellation Request</strong>
                </h6>
                <span class="font-14 color-figma-gray font-500">
                  You have requested for deal cancellation. Deal is temporarily
                  stopped untill {{ cancelDealWith }} responds to the request.
                </span>
              </div>
            </div>
          </div>
        </div>

        <div class="card" class="card" *ngIf="
          adData?.carrier_feedbacks!=null && loginuser.id !=adData?.carrier_feedbacks?.user_id">
          <div class="card-body">
            <div class="row">
              <div class="col-8">
                <h6 class="color-figma-black font-15 font-500 line-height-30">
                  <strong>Feedback</strong>
                </h6>
                <div class="star-container">
                  <ngx-stars color="#fdcc0d" [size]="1" [readonly]="true" [size]="4" [maxStars]="5"
                    [initialStars]='adData?.carrier_feedbacks.rating'></ngx-stars>
                </div>

                <h6 class="color-figma-black font-15 font-500 line-height-30">
                  <strong>Comment</strong>
                </h6>
                <div>
                  <span>{{ (fbtitle | slice: 0:30) }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
       
        <div *ngIf="loginuser && (!hideconnect && !cancelAccepted && adData?.creater.id != loginuserid)" class="row">
          <div class="col-12">
            <button id="button1" (click)="postSenderConnect()" class="btn btn-primary font-bold width-100 mt-2"
              type="submit">
              {{ btntext }}
            </button>
          </div>
        </div>
        <div *ngIf="loginuser && !hideyes" class="card mb-1">
          <div class="card-body">
            <div class="row">
              <h6 class="colorBlack line-height-30 ml-3 mt-1">
                <strong>Is your package picked by carrier?</strong>
              </h6>
              <div class="col-6 m-t-20">
                <button (click)="PostDealProcessYes()" class="btn btn-primary font-bold width-100" type="submit">Yes
                </button>
              </div>
              <div class="col-6 m-t-20">
                <button (click)="PostDealProcessNo()" class="btn btn-primary font-bold width-100" type="submit">
                  No
                </button>
              </div>
            </div>
          </div>
        </div>
       
        <div *ngIf="loginuser && cancelRequested" class="card mb-1">
          <div class="card-body">
            <div class="row">
              <h6 class="colorBlack line-height-30 ml-3 mt-1">
                <strong>Do you want to cancel this deal?</strong>
              </h6>
              <div class="col-6 m-t-20">
                <button (click)="openConfirmationCancelModal(confirmCancel)" class="btn btn-primary font-bold width-100"
                  type="submit">
                  Yes
                </button>
              </div>
              <div class="col-6 m-t-20">
                <button class="btn btn-primary font-bold width-100" (click)="CancelRequestAcceptens('0')" type="submit">
                  No
                </button>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="loginuser && showCancelBtn" class="row">
          <div class="col-12">
            <button id="button2" [disabled]="disableCancelBtn" (click)="openCancelModal(verifyCancel)"
              class="btn btn-primary font-bold w-100 mt-2 mb-2" type="submit">
              Cancel deal?
            </button>
          </div>
        </div>
        <p *ngIf="pickUpAlert" class="alert-text">Wait for pickup confirmation.</p>
        <p *ngIf="deliveryAlert" class="alert-text">Wait for delivery confirmation.</p>
        <div *ngIf="loginuser && !hidestatus" class="row">
          <div class="col-12">
            <button [disabled]="disabledstatusbutton" id="button" (click)="PostDealProcess(verificationmodal)"
              class="btn btn-primary font-bold w-100 mt-2 mb-2" type="submit">
              {{ btnStatus }}
            </button>
          </div>
        </div>
        <div *ngIf="loginuser && !hidefeedback" class="row">
          <div class="col-12">
            <button (click)="OpenFeedback(feedback)" class="btn btn-primary font-bold w-100 mt-3" type="submit">
              Feedback
            </button>
          </div>
        </div>

        <div *ngIf="
            !hidetrack &&
            adData?.is_offer == '1' &&
            (adData.offeror == loginuser.id || adData?.user_id == loginuser?.id)
          " class="col-md-12 p-0">
          <div class="card width-100">
            <div class="card-body">
              <div class="row">
                <div class="col-12">
                  <h6 class="sender-inner-ad-desc">Track your Order</h6>
                </div>
                <div class="col-12">
                  <ul class="list-ic vertical">
                    <li>
                      <span [ngClass]="hidepickedupli ? 'active' : 'deactive'">&nbsp;</span>
                      <a class="sender-inner-ad-desc">Picked Up</a>
                    </li>
                    <li>
                      <span [ngClass]="hidereachedli ? 'active' : 'deactive'">&nbsp;</span>
                      <a class="sender-inner-ad-desc">Reached the destination</a>
                    </li>
                    <li>
                      <span [ngClass]="hideverifypinli ? 'active' : 'deactive'">&nbsp;</span>
                      <a class="sender-inner-ad-desc">Verify Pin</a>
                    </li>
                    <li>
                      <span [ngClass]="hidedelieveredli ? 'active' : 'deactive'">&nbsp;</span>
                      <a class="sender-inner-ad-desc">Delivered</a>
                    </li>
                    <li>
                      <span [ngClass]="hidedealdone ? 'active' : 'deactive'">&nbsp;</span>
                      <a class="sender-inner-ad-desc">Deal Done</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div [formGroup]="FeedbackForm">
    <ng-template #feedback let-modal >
      <div id="feedbackPopup" class="modal fade show p-l-17 display-block" role="dialog" aria-modal="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body text-center">
              <h3 class="modal-title m-b-20">Feedback</h3>

              <div class="row">
                <div class="col-12 m-b-10 text-center">
                  <div class="row"></div>
                  <div class="row">
                    <div class="col" *ngFor="let value of emojis">
                      <img (click)="RatingClick()" [src]="value.img" class="width-100" (click)="SelectedEmo(value)"
                        [ngStyle]="{'opacity': value.opacity}" />
                    </div>

                  </div>

                  <div class="row m-b-10 m-t-10">
                    <div class="col-12">
                      <textarea formControlName="review" type="text" class="form-control text-left" #review
                        placeholder="Type Something.."></textarea>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="loginuser">
              <button *ngIf="ratingSubmit" (click)="PostFeedback()" data-dismiss="modal" data-toggle="modal"
                data-target="#deliveryPriority" class="btn btn-primary font-bold width-100 m-t-10 m-b-10" type="submit">
                Submit
              </button>

              <button *ngIf="!ratingSubmit" (click)="PostFeedback()" data-dismiss="modal" data-toggle="modal"
                data-target="#deliveryPriority" class="btn btn-primary font-bold width-100 m-t-10 m-b-10" type="submit">
                Submit
              </button>
            </div>
            </div>
          </div>
        </div>
      </div>
    </ng-template>
  </div>

  <ng-template #verifyCancel let-modal>
    <div class="modal-content z-index-99">
      <div class="modal-header">
        <h4 class="modal-title w-100 font-21 font-500" id="modal-basic-title">
          Attention Required
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="
          modal-body
          text-center
          pt-0
          pb-0
          verify-card-mob-responsive
          pl-3
          pr-3
        ">
        <p class="color-figma-photo font-16 text-center mt-2 mb-2 color-figma-photo-mob">
          Are you sure you want to cancel the deal with {{ cancelDealWith }}?
        </p>
      </div>
      <div class="modal-footer pb-1" *ngIf="loginuser">
        <button type="button" class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10" (click)="
            SendCancelRequest(cancelRequestSent); modal.dismiss('Cross click')
          ">
          Yes, cancel the deal
        </button>
      </div>
      <div class="modal-footer pb-1" *ngIf="loginuser">
        <button type="button" class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10"
          (click)="modal.dismiss('Cross click')">
          No, don't cancel
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #confirmCancel let-modal >
    <div class="modal-content z-index-99">
      <div class="modal-header">
        <h4 class="modal-title w-100 font-21 font-500" id="modal-basic-title">
          Attention Required
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <div class="
          modal-body
          text-center
          pt-0
          pb-0
          verify-card-mob-responsive
          pl-3
          pr-3
        ">
        <p class="color-figma-photo font-16 text-center mt-2 mb-2 color-figma-photo-mob">
          Are you sure you want to cancel the deal with {{ cancelDealWith }}?
        </p>
      </div>

      <div class="modal-footer pb-1" *ngIf="loginuser">
        <button type="button" class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10"
          (click)="CancelRequestAcceptens('1'); modal.dismiss('Cross click')">
          Yes, cancel the deal
        </button>
      </div>
      <div class="modal-footer pb-1" *ngIf="loginuser">
        <button type="button" class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10"
          (click)="CancelRequestAcceptens('0'); modal.dismiss('Cross click')">
          No, don't cancel
        </button>
      </div>
    </div>
  </ng-template>

  <ng-template #cancelRequestSent let-modal>
    <div class="w-100 h-auto w-500">
      <div class="modal-header">
        <h4 class="modal-title font-21 font-500 w-100" id="modal-basic-title">
          Cancellation request sent
        </h4>
        <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body text-center verify-card-mob-responsive">
        <img src="../../../assets/verificationSuccessful.png" class="w-50" />
        <p style="font-size: 16px !important" class="color-figma-photo text-center mt-2 mb-2 color-figma-photo-mob">
          Your request to cancel the deal has been sent successfully. The deal will be cancelled once {{ cancelDealWith
          }} has accepted the request.
        </p>
      </div>
      <div class="modal-footer pl-3 pr-3 pb-3" *ngIf="loginuser">
        <button style="height: 53px; border-radius: 9px" type="button"
          class="btn btn-primary font-bold width-100 m-t-10 m-b-10" (click)="modal.close('Save click');">
          Ok
        </button>
      </div>
    </div>
  </ng-template>



  <Style>
    ::ng-deep .modal-dialog .modal-content {
      width: 500px !important;

    }
  </Style>



  <div [formGroup]="VerificationForem">
    <ng-template #verificationmodal let-modal>
      <div class="modal-content z-index-99">
        <div class="modal-header">
          <h4 class="modal-title w-100 font-21 font-500" id="modal-basic-title">
            Verification PIN
          </h4>
          <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body pt-2 pb-3">
          <input id="textbox" formControlName="verification" autocorrect="off" autocapitalize="off" spellcheck="off"
            type="text" class="form-control" placeholder="Enter a Verify PIN" />
        </div>
        <div class="modal-footer pb-1" *ngIf="loginuser">
          <button type="button" class="btn btn-primary font-bold width-100 m-t-10 m-b-10 h-53 border-rad-10" 
          (click)="postVerify()">
            Verify
          </button>
        </div>
      </div>
    </ng-template>
  </div>
</div>
